@page "/"
@page "/conection"
@using BlazorApp1.Data
@inject BlazorApp1.Services.SetService setService

<h3>Conection</h3>

<div class="container">
    <div class="container text-center">
        <div class="row">
            <div class="col-12">
                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup-sizing-default">Server</span>
                    <input @onkeypress="@validateForm" @bind="entry.Server" type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
                </div>
            </div>
            <div class="col-12">
                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup-sizing-default">User</span>
                    <input @onkeypress="@validateForm" @bind="entry.User" type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
                </div>
            </div>
            <div class="col-12">
                <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroup-sizing-default">Password</span>
                    <input @onkeypress="@validateForm" @bind="entry.Password" type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="input-group mb-3">
                    <button class="btn btn-primary" @onclick="@Connection">
                        Conect
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    DataSet entry = new DataSet();
    bool btnDisabled = true;

    protected async void Connection()
    {

    }

    private void validateForm()
    {
        btnDisabled = (
            (entry.User == String.Empty) ||
            (String.IsNullOrWhiteSpace(entry.User)) ||
            (entry.Password == String.Empty) ||
            (String.IsNullOrWhiteSpace(entry.Password)) ||
            (entry.Server == String.Empty) ||
            (String.IsNullOrWhiteSpace(entry.Server)))           
            ? true : false;
    }

}
